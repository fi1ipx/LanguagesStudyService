(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t,a){e.exports=a(369)},188:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=(a(187),a(178)),i=a(95),s=a(164),d=a(38),u=a(39),m=a(42),p=a(40),h=a(43),f=(a(188),a(130),a(375)),g=a(374),E=a(370),w=a(37),b=a(371),v=a(373);function y(e){var t=e.word;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"https://translate.google.ru/#view=home&op=translate&sl=en&tl=ru&text="+t,className:"badge badge-primary",rel:"noopener noreferrer",target:"_blank"},"G"),"\xa0",r.a.createElement("a",{href:"https://dictionary.cambridge.org/dictionary/english/"+t,className:"badge badge-secondary",rel:"noopener noreferrer",target:"_blank"},"C"),"\xa0",r.a.createElement("a",{href:"https://www.urbandictionary.com/define.php?term="+t,className:"badge badge-info",rel:"noopener noreferrer",target:"_blank"},"U"),"\xa0",r.a.createElement("a",{href:"https://www.dictionary.com/browse/"+t,className:"badge badge-light",rel:"noopener noreferrer",target:"_blank"},"D"),"\xa0",r.a.createElement("a",{href:"https://youglish.com/search/"+t+"/us",className:"badge badge-danger",rel:"noopener noreferrer",target:"_blank"},"Y"))}var x=r.a.createContext(),k=f.a.TextArea,C=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).getInput=function(){return r.a.createElement(f.a,null)},a.renderCell=function(e){var t=e.getFieldDecorator,n=a.props,o=n.editing,c=n.dataIndex,l=n.title,i=(n.inputType,n.record),d=(n.index,n.children),u=Object(s.a)(n,["editing","dataIndex","title","inputType","record","index","children"]);return r.a.createElement("td",u,o?r.a.createElement(g.a.Item,{style:{margin:0}},t(c,{rules:[{required:!0,message:"Please Input ".concat(l,"!")}],initialValue:i[c]})(a.getInput())):d)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(x.Consumer,null,this.renderCell)}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).textareaHandleChange=function(e){a.setState({wordsToAdd:e.target.value})},a.handleCheckBoxSelect=function(e){var t=a.state.selectedWords.slice();if(e.target.checked)t.push(e.target.value);else{var n=t.indexOf(e.target.value);t.splice(n,1)}var r=t.length>0;a.setState({selectedWords:t,showAddWordsToGroup:r})},a.handleSubmit=function(e){fetch("".concat(window.rest.apiUrl,"/api/word/create-word-list"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({words:a.state.wordsToAdd})}).then(function(){a.setState({wordsToAdd:""}),a.fetchWords()}).catch(function(e){return console.log(e)}),e.preventDefault()},a.handleAddToTheGroup=function(e){fetch("".concat(window.rest.apiUrl,"/api/group/add-group-members"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({groupId:a.state.selectedGroupId,wordIds:a.state.selectedWords})}).then(function(){a.setState({selectedWords:[],selectedGroupId:null})}).catch(function(e){return console.log(e)})},a.handleChangeGroup=function(e){a.setState({selectedGroupId:e.target.value})},a.deleteWord=function(e,t){e.preventDefault(),fetch("".concat(window.rest.apiUrl,"/api/word/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin"}).then(function(){a.fetchWords()}).catch(function(e){return console.log(e)})},a.isEditing=function(e){return e.key===a.state.editingKey},a.cancel=function(){a.setState({editingKey:""})},a.saveOnTheServer=function(e,t){console.log(e,t),fetch("".concat(window.rest.apiUrl,"/api/word/").concat(e.id),{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then(function(){}).catch(function(e){return console.log(e)})},a.state={words:[],groups:[],selectedWords:[],wordsToAdd:"",showAddWordsToGroup:!1,selectedGroupId:void 0,isLoading:!1,totalPages:0,pageNumber:0,pageSize:1e3,editingKey:""},a.columns=[{title:"The word",dataIndex:"name",width:"10%",editable:!0,sorter:function(e,t){return e.name.localeCompare(t.name)},sortDirections:["descend","ascend"]},{title:"Practiced",dataIndex:"practiced",width:"10%",editable:!1,sorter:function(e,t){return e.practiced-t.practiced},sortDirections:["descend","ascend"]},{title:"Last",dataIndex:"last",width:"10%",editable:!1,sorter:function(e,t){return new Date(e.last)-new Date(t.last)},sortDirections:["descend","ascend"]},{title:"Added",dataIndex:"createdAt",width:"10%",editable:!1,sorter:function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)},sortDirections:["descend","ascend"]},{title:"Dictionaries",dataIndex:"dictionaries",width:"10%",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(y,{word:t.name}))}},{title:"Operation",dataIndex:"operation",width:"20%",render:function(e,t){var n=a.state.editingKey;return a.isEditing(t)?r.a.createElement("span",null,r.a.createElement(x.Consumer,null,function(e){return r.a.createElement("a",{href:"no-action",onClick:function(n){return a.save(n,e,t.key)},style:{marginRight:8}},"Save")}),r.a.createElement(E.a,{title:"Sure to cancel?",onConfirm:function(){return a.cancel(t.key)}},r.a.createElement("a",{href:"no-action"},"Cancel"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/practice/"+t.key},"Practice")," - ",r.a.createElement("a",{href:"no-action",disabled:""!==n,onClick:function(e){return a.edit(t.key,e)}},"Edit")," - ",r.a.createElement("a",{href:"delete/"+t.key,onClick:function(e){a.deleteWord(e,t.key)}},"Del"))}}],a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchWords(0)}},{key:"fetchWords",value:function(e){var t=this;fetch("".concat(window.rest.apiUrl,"/api/word?size=").concat(this.state.pageSize,"&page=").concat(e)).then(function(e){return e.json()}).then(function(e){var a=[];e.content.forEach(function(e){var t,n=Object(i.a)({key:e.id.toString(),practiced:e.examples.length,last:(t=e.examples,void 0!==t&&t.length>0?t.map(function(e){return e.createdAt}).sort().reverse()[0].toLocaleString("ru-RU"):null)},e);a.push(n)}),t.setState({words:a})})}},{key:"fetchGroups",value:function(){var e=this;fetch("".concat(window.rest.apiUrl,"/api/group")).then(function(e){return e.json()}).then(function(t){e.setState({groups:t})})}},{key:"save",value:function(e,t,a){var n=this;e.preventDefault(),t.validateFields(function(e,t){if(!e){var r=Object(l.a)(n.state.words),o=r.findIndex(function(e){return a===e.key});if(o>-1){var c=r[o];r.splice(o,1,Object(i.a)({},c,t)),n.saveOnTheServer(c,t),n.setState({words:r,editingKey:""})}else r.push(t),n.setState({words:r,editingKey:""})}})}},{key:"edit",value:function(e,t){t.preventDefault(),this.setState({editingKey:e})}},{key:"render",value:function(){var e=this,t=this.state.words,a={body:{cell:C}},n=this.columns.map(function(t){return t.editable?Object(i.a)({},t,{onCell:function(a){return{record:a,dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(a)}}}):t});return r.a.createElement(x.Provider,{value:this.props.form},r.a.createElement(k,{className:"form-control",rows:"3",value:this.state.wordsToAdd,onChange:this.textareaHandleChange}),r.a.createElement(w.a,{type:"submit",onClick:this.handleSubmit},"Add words"),r.a.createElement(b.a,null),r.a.createElement(v.a,{components:a,bordered:!0,dataSource:t,columns:n,rowClassName:"editable-row",pagination:{onChange:this.cancel,defaultPageSize:100}}))}}]),t}(r.a.Component),O=g.a.create()(S);function N(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"The word"),r.a.createElement("th",{scope:"col",className:"d-lg-none"},"Word id"),r.a.createElement("th",{scope:"col"},"Added"),r.a.createElement("th",{scope:"col"},"Practiced"),r.a.createElement("th",{scope:"col"},"Last"),r.a.createElement("th",{scope:"col"},"Dictionaries"),r.a.createElement("th",{scope:"col"},"Practice"),r.a.createElement("th",{scope:"col"},"Manage")))}var T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.state.newGroupName.length>0&&fetch("".concat(window.rest.apiUrl,"/api/group"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({name:a.state.newGroupName})}).then(function(){a.setState({newGroupName:""}),a.fetchGroups()}).catch(function(e){return console.log(e)})},a.newGroupNameHandleChange=function(e){a.setState({newGroupName:e.target.value})},a.handleGroupClick=function(e,t){e.preventDefault();var n=a.state.groups[t];a.setState({words:a.state.groups[t].words,selectedGroup:n})},a.deleteGroup=function(e,t){e.preventDefault(),e.preventDefault(),fetch("".concat(window.rest.apiUrl,"/api/group/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin"}).then(function(){a.fetchGroups()}).catch(function(e){return console.log(e)})},a.state={words:[],groups:[],selectedWords:[],newGroupName:"",selectedGroup:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchGroups()}},{key:"fetchGroups",value:function(){var e=this;fetch("".concat(window.rest.apiUrl,"/api/group")).then(function(e){return e.json()}).then(function(t){e.setState({groups:t})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.groups,n=t.words,o=t.selectedGroup;return r.a.createElement("div",{id:"test",className:"container"},r.a.createElement("h2",null,"Manage groups"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"newWordsTextarea"},"New group name\xa0"),r.a.createElement("input",{value:this.state.newGroupName,onChange:this.newGroupNameHandleChange,type:"text"}),"\xa0",r.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},"Create group"))),r.a.createElement("ul",null,a?a.map(function(t,a){return r.a.createElement("li",{key:t.id},r.a.createElement("a",{href:"delete/"+t.id,onClick:function(a){e.deleteGroup(a,t.id)}},"Del"),"[",t.createdAt,"] \xa0\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:t.id,onClick:function(t){return e.handleGroupClick(t,a)},key:a},t.name))}):null),o?r.a.createElement("div",null,r.a.createElement("h1",null,o.name),r.a.createElement("table",{className:"table table-striped"},r.a.createElement(N,null),r.a.createElement("tbody",null,n?n.map(function(e,t){var a;return a=e.examples.length>0?e.examples[e.examples.length-1].createdAt:"never",r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.createdAt),r.a.createElement("td",null,e.examples.length),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement(y,{word:e.name})),r.a.createElement("td",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/practice/"+e.id},"Practice")),r.a.createElement("td",null,r.a.createElement("a",{href:e.id,onClick:function(e){e.preventDefault()}},"Del"),"\xa0|\xa0",r.a.createElement("a",{href:e.id,onClick:function(e){e.preventDefault()}},"Edit")))}):null))):null)}}]),t}(r.a.Component);function j(){return r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))}var D=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).deleteExample=function(e,t){e.preventDefault(),fetch("".concat(window.rest.apiUrl,"/api/example/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin"}).then(function(){a.fetchExamples()}).catch(function(e){return console.log(e)})},a.state={examples:[],isLoading:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchExamples()}},{key:"fetchExamples",value:function(){this.setState({isLoading:!0});var e=this;fetch("".concat(window.rest.apiUrl,"/api/example")).then(function(e){return e.json()}).then(function(t){e.setState({examples:t,isLoading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.examples,n=t.isLoading;return r.a.createElement("div",{id:"test",className:"container"},n?r.a.createElement(j,null):r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"The word"),r.a.createElement("th",{scope:"col"},"Example"),r.a.createElement("th",{scope:"col"},"Dictionaries"),r.a.createElement("th",{scope:"col"},"Example date"),r.a.createElement("th",{scope:"col"},"Word date"),r.a.createElement("th",{scope:"col"},"Manage"))),r.a.createElement("tbody",{id:"tbody"},a?a.map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/practice/"+t.wordId},t.word)),r.a.createElement("td",null,t.text),r.a.createElement("td",null,r.a.createElement(y,{word:t.word})),r.a.createElement("td",null,t.createdAt),r.a.createElement("td",null,t.wordCreatedAt),r.a.createElement("td",null,r.a.createElement("a",{href:"delete/"+t.id,onClick:function(a){e.deleteExample(a,t.id)}},"Del")))}):null)))}}]),t}(r.a.Component),A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).textareaHandleChange=function(e){a.setState({exampleToAdd:e.target.value})},a.handleSubmit=function(e){fetch("".concat(window.rest.apiUrl,"/api/word/example"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({wordId:a.state.wordId,text:a.state.exampleToAdd})}).then(function(){a.setState({exampleToAdd:""}),a.fetchTheWord()}).catch(function(e){return console.log(e)}),e.preventDefault()},a.state={word:"",wordCreatedAt:"",wordId:Number(e.match.params.id),examples:[],exampleToAdd:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchTheWord()}},{key:"fetchTheWord",value:function(){var e=this;fetch("".concat(window.rest.apiUrl,"/api/word/").concat(this.state.wordId)).then(function(e){return e.json()}).then(function(t){e.setState({examples:t.examples,word:t.name,wordCreatedAt:t.createdAt})})}},{key:"render",value:function(){var e=this.state.examples;return r.a.createElement("div",{id:"test",className:"container"},r.a.createElement("h2",null,this.state.word," [added ",this.state.wordCreatedAt,"]"),r.a.createElement(y,{word:this.state.word}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleTextarea"},"Type example here"),r.a.createElement("textarea",{className:"form-control",value:this.state.exampleToAdd,onChange:this.textareaHandleChange,rows:"3"})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},"Add example")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush",id:"examplesList"},e?e.map(function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},"[",e.createdAt,"] \xa0\xa0\xa0\xa0\xa0",e.text)}):null)))}}]),t}(r.a.Component),G=a(78),I=a(51),W=a(372),U=a(127),L=W.a.Content,P=W.a.Footer,K=W.a.Sider;var _=function(){return r.a.createElement(G.a,null,r.a.createElement(W.a,null,r.a.createElement(K,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(U.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"]},r.a.createElement(U.a.Item,{key:"1"},r.a.createElement(G.b,{to:"/"},r.a.createElement("span",{className:"nav-text"},"Words"))),r.a.createElement(U.a.Item,{key:"2"},r.a.createElement(G.b,{to:"/example"},r.a.createElement("span",{className:"nav-text"},"Examples"))),r.a.createElement(U.a.Item,{key:"3"},r.a.createElement(G.b,{to:"/groups"},r.a.createElement("span",{className:"nav-text"},"Groups"))))),r.a.createElement(W.a,null,r.a.createElement(L,{style:{margin:"24px 16px 0"}},r.a.createElement(I.a,{exact:!0,path:"/",component:O}),r.a.createElement(I.a,{exact:!0,path:"/example",component:D}),r.a.createElement(I.a,{exact:!0,path:"/practice/:id",component:A}),r.a.createElement(I.a,{exact:!0,path:"/groups",component:T})),r.a.createElement(P,{style:{textAlign:"center"}},"\xa0\xa9 2020 Language study service"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[182,1,2]]]);
//# sourceMappingURL=main.fe91af6a.chunk.js.map